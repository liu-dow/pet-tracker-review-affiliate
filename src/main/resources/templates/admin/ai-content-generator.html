<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Content Generator - Pet Tracker Review</title>
    <link rel="stylesheet" th:href="@{/css/pages/admin-dashboard.css}">
    <th:block th:replace="~{fragments/admin-panel :: admin-styles}"></th:block>
    <style>
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        .form-container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #2d3748;
        }
        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }
        .form-control:focus {
            outline: none;
            border-color: #3182ce;
        }
        .form-control.large {
            min-height: 150px;
            resize: vertical;
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        .template-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .template-card:hover {
            border-color: #3182ce;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        .template-card.active {
            border-color: #3182ce;
            background-color: #ebf8ff;
        }
        .template-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #2d3748;
        }
        .template-desc {
            color: #718096;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        .result-container {
            background-color: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 1.5rem;
            margin-top: 1rem;
        }
        .help-text {
            font-size: 0.9rem;
            color: #718096;
            margin-top: 0.25rem;
        }
    </style>
</head>
<body>
    <th:block th:replace="~{fragments/admin-panel :: admin-layout('ai-content-generator', 'AI Content Generator')}">
        <th:block th:fragment="content">
            <div class="content-header">
                <h1><i class="fas fa-robot"></i> AI Content Generator</h1>
                <button onclick="clearForm()" class="btn btn-outline">
                    <i class="fas fa-eraser"></i> Clear Form
                </button>
            </div>
            
            <!-- Flash Messages -->
            <div th:if="${successMessage}" class="alert alert-success">
                <i class="fas fa-check-circle"></i> <span th:text="${successMessage}"></span>
            </div>
            <div th:if="${errorMessage}" class="alert alert-danger">
                <i class="fas fa-exclamation-circle"></i> <span th:text="${errorMessage}"></span>
            </div>
            
            <!-- Notification -->
            <div id="notification" class="notification"></div>
            
            <div class="form-container">
                <form id="contentForm" onsubmit="generateContent(event)">
                    <div class="form-group">
                        <label class="form-label">Content Type</label>
                        <select class="form-control" id="contentType" onchange="updateForm()">
                            <option value="blog">Blog Post</option>
                            <option value="review">Product Review</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Topic/Subject</label>
                        <input type="text" class="form-control" id="topic" placeholder="Enter the main topic or subject">
                        <div class="help-text">Example: Best GPS pet trackers for dogs in 2025</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Content Length</label>
                        <select class="form-control" id="length">
                            <option value="short">Short (300-500 words)</option>
                            <option value="medium" selected>Medium (800-1200 words)</option>
                            <option value="long">Long (1500+ words)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Additional Instructions (Optional)</label>
                        <textarea class="form-control large" id="instructions" placeholder="Any specific requirements or points to include..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" id="generateBtn">
                            <i class="fas fa-bolt"></i> Generate Content
                        </button>
                    </div>
                </form>
                
                <div id="resultSection" style="display: none;">
                    <h3>Generated Content</h3>
                    <div class="result-container">
                        <div id="generatedContent"></div>
                        <div style="margin-top: 1rem; text-align: right;">
                            <button class="btn btn-outline" onclick="copyToClipboard()">
                                <i class="fas fa-copy"></i> Copy to Clipboard
                            </button>
                            <button class="btn btn-success" onclick="saveContent()">
                                <i class="fas fa-save"></i> Save as Draft
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </th:block>
    </th:block>
    
    <th:block th:replace="~{fragments/admin-panel :: admin-scripts}"></th:block>
    
    <script>
        function updateForm() {
            // Update form based on content type if needed
            console.log('Content type changed');
        }
        
        function generateContent(event) {
            event.preventDefault();
            
            const contentType = document.getElementById('contentType').value;
            const topic = document.getElementById('topic').value;
            const length = document.getElementById('length').value;
            const instructions = document.getElementById('instructions').value;
            
            if (!topic.trim()) {
                showNotification('Please enter a topic or subject', 'error');
                return;
            }
            
            // Show loading state
            const generateBtn = document.getElementById('generateBtn');
            const originalText = generateBtn.innerHTML;
            generateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';
            generateBtn.disabled = true;
            
            // Simulate API call to generate content
            setTimeout(() => {
                // Restore button
                generateBtn.innerHTML = originalText;
                generateBtn.disabled = false;
                
                // Show result
                const resultSection = document.getElementById('resultSection');
                const generatedContent = document.getElementById('generatedContent');
                
                // Generate sample content based on type
                let content = '';
                if (contentType === 'blog') {
                    content = `
                        <h2>${topic}</h2>
                        <p>In this comprehensive guide, we'll explore the latest trends and top products in the pet tracking industry for 2025.</p>
                        
                        <h3>Why Pet Trackers Are Essential</h3>
                        <p>Pet trackers have become an essential tool for pet owners who want to ensure the safety and well-being of their furry companions. With advanced GPS technology and real-time monitoring capabilities, these devices provide peace of mind like never before.</p>
                        
                        <h3>Key Features to Look For</h3>
                        <ul>
                            <li>Long battery life</li>
                            <li>Accurate GPS tracking</li>
                            <li>Water resistance</li>
                            <li>Activity monitoring</li>
                            <li>Geofencing capabilities</li>
                        </ul>
                        
                        <h3>Our Top Recommendations</h3>
                        <p>Based on our research and testing, here are the top pet trackers for 2025:</p>
                        
                        <h4>1. Premium Option</h4>
                        <p>The premium option offers the best combination of features, battery life, and accuracy. It's perfect for active pet owners who want the most advanced tracking capabilities.</p>
                        
                        <h4>2. Budget-Friendly Option</h4>
                        <p>For those on a budget, this option provides essential tracking features without breaking the bank. It's a great entry point into the world of pet tracking.</p>
                        
                        <h3>Conclusion</h3>
                        <p>Choosing the right pet tracker depends on your specific needs, budget, and the type of pet you have. We recommend considering factors like battery life, accuracy, and additional features when making your decision.</p>
                    `;
                } else {
                    content = `
                        <h2>${topic} Review</h2>
                        <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                            <div style="background: #f7fafc; padding: 1rem; border-radius: 8px; text-align: center;">
                                <div style="font-size: 2rem; color: #f6ad55;">★★★★☆</div>
                                <div>4.0/5.0</div>
                            </div>
                        </div>
                        
                        <h3>Overview</h3>
                        <p>This product represents a significant advancement in pet tracking technology, offering a compelling mix of features and performance.</p>
                        
                        <h3>Pros</h3>
                        <ul>
                            <li>Excellent battery life lasting up to 2 weeks</li>
                            <li>Accurate GPS tracking with minimal delay</li>
                            <li>Intuitive mobile app with useful features</li>
                            <li>Durable and water-resistant design</li>
                        </ul>
                        
                        <h3>Cons</h3>
                        <ul>
                            <li>Higher price point compared to competitors</li>
                            <li>Limited compatibility with older smartphones</li>
                            <li>Bulkier design than previous models</li>
                        </ul>
                        
                        <h3>Performance</h3>
                        <p>In our testing, the device consistently delivered accurate location data and maintained a strong connection to the cellular network. The battery life exceeded manufacturer claims in most scenarios.</p>
                        
                        <h3>Value</h3>
                        <p>While not the cheapest option on the market, the feature set and performance justify the price for serious pet owners who prioritize reliability and functionality.</p>
                        
                        <h3>Final Verdict</h3>
                        <p>This is an excellent choice for pet owners who want a premium tracking experience. The combination of long battery life, accurate tracking, and robust build quality makes it a worthwhile investment.</p>
                    `;
                }
                
                generatedContent.innerHTML = content;
                resultSection.style.display = 'block';
                
                showNotification('Content generated successfully!', 'success');
            }, 2000);
        }
        
        function copyToClipboard() {
            const content = document.getElementById('generatedContent').innerText;
            navigator.clipboard.writeText(content)
                .then(() => {
                    showNotification('Content copied to clipboard!', 'success');
                })
                .catch(err => {
                    showNotification('Failed to copy content', 'error');
                });
        }
        
        function saveContent() {
            showNotification('Content saved as draft!', 'success');
        }
        
        function clearForm() {
            document.getElementById('contentForm').reset();
            document.getElementById('resultSection').style.display = 'none';
            showNotification('Form cleared', 'success');
        }
        
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = 'notification ' + type;
            notification.style.display = 'block';
            
            // Hide after 3 seconds
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        // Close notification when clicking on it
        document.addEventListener('click', function(e) {
            if (e.target && e.target.id === 'notification') {
                e.target.style.display = 'none';
            }
        });
    </script>
</body>
</html>