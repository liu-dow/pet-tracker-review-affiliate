<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${blogPost.metaTitle ?: blogPost.title}">Blog Post - Pet Tracker Reviews</title>
    <meta name="description" th:content="${metaDescription}">
    <meta name="keywords" th:content="${keywords}">
    <meta name="title" th:content="${blogPost.metaTitle ?: blogPost.title}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" th:content="${blogPost.metaTitle ?: blogPost.title}">
    <meta property="og:description" th:content="${blogPost.metaDescription}">
    <meta property="article:author" th:content="${blogPost.author}">
    <meta property="article:published_time" th:content="${blogPost.date}">
    
    <!-- CSS -->
    <link rel="stylesheet" th:href="@{/css/pages/base.css(v=${cssVersion})}">
    <link rel="stylesheet" th:href="@{/css/pages/header.css(v=${cssVersion})}">
    <link rel="stylesheet" th:href="@{/css/pages/blog-detail.css(v=${cssVersion})}">
    <link rel="stylesheet" th:href="@{/css/pages/footer.css(v=${cssVersion})}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <a th:href="@{/}" class="brand-link">
                        <i class="fas fa-paw"></i>
                        <span>Pet Tracker Review</span>
                    </a>
                </div>
                
                <div class="nav-menu">
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a th:href="@{/}" class="nav-link">Home</a>
                        </li>
                        <li class="nav-item">
                            <a th:href="@{/blogs}" class="nav-link active">Blogs</a>
                        </li>
                        <li class="nav-item">
                            <a th:href="@{/reviews}" class="nav-link">Reviews</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <div class="container">
            <ol class="breadcrumb-list">
                <li><a th:href="@{/}">Home</a></li>
                <li><a th:href="@{/blogs}">Blogs</a></li>
                <li th:text="${blogPost.title}">Current Post</li>
            </ol>
        </div>
    </nav>

    <!-- Article Content -->
    <article class="article">
        <div class="container">
            <div class="article-wrapper">
                <!-- Main Content -->
                <main class="article-content">
                    <header class="article-header">
                        <h1 th:text="${blogPost.title}">Article Title</h1>
                        
                        <div class="article-meta">
                            <span class="article-author">
                                <i class="fas fa-user"></i>
                                <span th:text="${blogPost.author}">Author</span>
                            </span>
                            <span class="article-date">
                                <i class="fas fa-calendar"></i>
                                <span th:text="${#temporals.format(blogPost.date, 'MMMM dd, yyyy')}">Date</span>
                            </span>
                        </div>
                        
                        <div class="article-tags" th:if="${blogPost.tags != null and !blogPost.tags.isEmpty()}">
                            <span class="tag" th:each="tag : ${blogPost.tags}" th:text="${tag}">tag</span>
                        </div>
                    </header>
                    
                    <div class="article-body" th:utext="${blogPost.content}">

                        Article content goes here...
                    </div>
                    
                    <footer class="article-footer">
                        <div class="share-buttons">
                            <h4>Share this article:</h4>
                            <a href="#" class="share-btn facebook" onclick="shareOnFacebook()">
                                <i class="fab fa-facebook"></i> Facebook
                            </a>
                            <a href="#" class="share-btn twitter" onclick="shareOnTwitter()">
                                <i class="fab fa-twitter"></i> Twitter
                            </a>
                        </div>
                    </footer>
                </main>
                
                <!-- Sidebar -->
                <aside class="article-sidebar">
                    <!-- Related Posts -->
                    <div class="sidebar-section" th:if="${relatedPosts != null and !relatedPosts.isEmpty()}">
                        <h3>Related Articles</h3>
                        <div class="related-posts">
                            <div class="related-post" th:each="post : ${relatedPosts}">
                                <h4>
                                    <a th:href="@{'/blogs/' + ${post.slug}}" th:text="${post.title}">Related Post Title</a>
                                </h4>
                                <p th:utext="${#strings.abbreviate(#strings.replace(post.content, '<[^>]*>', ''), 100)}">
                                    Related post excerpt...
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Newsletter Signup -->
                    <div class="sidebar-section">
                        <h3>Stay Updated</h3>
                        <p>Get the latest pet tracker reviews and guides delivered to your inbox.</p>
                        <form class="newsletter-form">
                            <input type="email" placeholder="Your email address" class="form-input">
                            <button type="submit" class="btn btn-primary">Subscribe</button>
                        </form>
                    </div>
                </aside>
            </div>
        </div>
    </article>

    <!-- Navigation -->
    <section class="article-nav">
        <div class="container">
            <div class="nav-buttons">
                <a th:href="@{/blogs}" class="btn btn-outline">
                    <i class="fas fa-arrow-left"></i> Back to Blog
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <div th:replace="~{fragments/footer :: footer}"></div>

    <script th:src="@{/js/main.js}"></script>
    <script>
        function shareOnFacebook() {
            const url = window.location.href;
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
        }
        
        function shareOnTwitter() {
            const url = window.location.href;
            const title = document.title;
            window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(title)}`, '_blank');
        }
        
        function shareOnLinkedIn() {
            const url = window.location.href;
            window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`, '_blank');
        }
    </script>
</body>
</html>